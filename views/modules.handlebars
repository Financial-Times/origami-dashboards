<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Modules dashboard - Origami</title>
	<meta name="viewport" content="width=1920, initial-scale=1.0" />
	<meta http-equiv="refresh" content="60">

	<link rel="stylesheet" href="//build.origami.ft.com/bundles/css?modules=o-fonts@^2.0.0" />
	<link rel="stylesheet" href="/static/css/style.css" />

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css" />
</head>
<body class='rows'>
	<h1>Origami modules this week</h1>
	<div class='cols'>
		<div class='statwrap stretch'>
			<h2>Modules updated</h2>
			<div class='stat'>{{modulesUpdatedCount}}</div>
		</div>
		<div class='statwrap stretch'>
			<h2>Contributors</h2>
			<div class='stat'>{{contributorsCount}}</div>
		</div>
		<div class='statwrap stretch'>
			<h2>Issues opened/closed</h2>
			<div class='stat'>{{issuesOpenedCount}} / {{issuesClosedCount}}</div>
		</div>
	</div>
	<div class='stretch modulestable'>
		<div class='snap'>
			<table>
			<tr class='head'>
				<th></th>
				<th><h2>Build</h2></th>
				<th><h2>Deps</h2></th>
				<th><h2>Supported</h2></th>
				<th><h2>Issues</h2></th>
				<th><h2>Pushes</h2></th>
				<th><h2>Contributors</h2></th>
			</tr>
			{{#each modules}}
			<tr>
				<td class='modulename'>{{name}}</td>

				<td>
				{{#if isValid}}<div class='ministat ministat-good'><i class="fa fa-check"></i></div>
				{{else}}<div class='ministat ministat-bad'><i class="fa fa-times"></i></div>
				{{/if}}
				</td>

				<td>
				{{#ifEq outOfDateDepCount 0}}<div class='ministat ministat-good'><i class="fa fa-check"></i></div>
				{{else}}<div class='ministat ministat-oooer'><i class="fa fa-exclamation-triangle"></i> {{outOfDateDepCount}}</div>
				{{/ifEq}}
				</td>

				<td>
				{{#ifEq supportStatus "active"}}<div class='ministat ministat-good'>{{supportStatus}}</div>{{/ifEq}}
				{{#ifEq supportStatus "experimental"}}<div class='ministat ministat-oooer'>{{supportStatus}}</div>{{/ifEq}}
				{{#ifEq supportStatus "maintained"}}<div class='ministat ministat-oooer'>{{supportStatus}}</div>{{/ifEq}}
				{{#ifEq supportStatus "deprecated"}}<div class='ministat ministat-oooer'>{{supportStatus}}</div>{{/ifEq}}
				{{#ifEq supportStatus "dead"}}<div class='ministat ministat-bad'>{{supportStatus}}{{/ifEq}}
				</td>

				<td><div class='ministat'>{{issuesOpenedCount}} / {{issuesClosedCount}}</div></td>

				<td><div class='ministat'>{{pushCount}}</div></td>

				<td><div class='ministat'>{{contributorsCount}}</div></td>
			</tr>
			{{/each}}
			</table>
		</div>
	</div>
</body>
</html>
